{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\caitl\\\\Desktop\\\\CA2_FullStack\\\\NODEJS-ONLY\\\\client\\\\src\\\\components\\\\MainPagePhotoData.js\";\nimport React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { SERVER_HOST } from \"../config/global_constants\";\nimport \"../css/TShirtLayout.css\";\nexport default class MainPagePhotoData extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleReturn = () => {\n      this.setState({\n        redirectToTShirtView: true\n      });\n    };\n\n    this.state = {\n      redirectToTShirtView: false\n    };\n  }\n\n  componentDidMount() {\n    this.props.products.photos.map(photo => {\n      return axios.get(\"\".concat(SERVER_HOST, \"/products/photo/\").concat(photo.filename)).then(res => {\n        if (res.data) {\n          if (res.data.errorMessage) {\n            console.log(res.data.errorMessage);\n          } else {\n            document.getElementById(photo._id).src = \"data:;base64,\".concat(res.data.image);\n          }\n        } else {\n          console.log(\"Record not found\");\n        }\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"tshirts-rows\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, this.props.products.photos.map(photo => React.createElement(\"button\", {\n      onClick: this.handleReturn,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      key: photo._id,\n      id: photo._id,\n      alt: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }))), this.state.redirectToTShirtView ? React.createElement(Redirect, {\n      to: \"/TShirtView/\".concat(this.props.products._id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }) : null);\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\caitl\\Desktop\\CA2_FullStack\\NODEJS-ONLY\\client\\src\\components\\MainPagePhotoData.js"],"names":["React","Component","Redirect","axios","SERVER_HOST","MainPagePhotoData","constructor","props","handleReturn","setState","redirectToTShirtView","state","componentDidMount","products","photos","map","photo","get","filename","then","res","data","errorMessage","console","log","document","getElementById","_id","src","image","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,QAAR,QAAuB,kBAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,WAAR,QAA0B,4BAA1B;AACA,OAAO,yBAAP;AACA,eAAe,MAAMC,iBAAN,SAAgCJ,SAAhC,CAAyC;AACpDK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAuBnBC,YAvBmB,GAuBJ,MAAM;AACjB,WAAKC,QAAL,CAAc;AAACC,QAAAA,oBAAoB,EAAE;AAAvB,OAAd;AACH,KAzBkB;;AAEf,SAAKC,KAAL,GAAa;AACTD,MAAAA,oBAAoB,EAAC;AADZ,KAAb;AAGH;;AACDE,EAAAA,iBAAiB,GAAG;AAChB,SAAKL,KAAL,CAAWM,QAAX,CAAoBC,MAApB,CAA2BC,GAA3B,CAA+BC,KAAK,IAAG;AACnC,aAAOb,KAAK,CAACc,GAAN,WAAab,WAAb,6BAA2CY,KAAK,CAACE,QAAjD,GACFC,IADE,CACGC,GAAG,IAAG;AACR,YAAIA,GAAG,CAACC,IAAR,EAAa;AACT,cAAID,GAAG,CAACC,IAAJ,CAASC,YAAb,EAA0B;AACtBC,YAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACC,IAAJ,CAASC,YAArB;AACH,WAFD,MAEK;AACDG,YAAAA,QAAQ,CAACC,cAAT,CAAwBV,KAAK,CAACW,GAA9B,EAAmCC,GAAnC,0BAAuDR,GAAG,CAACC,IAAJ,CAASQ,KAAhE;AACH;AACJ,SAND,MAMK;AACDN,UAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACH;AACJ,OAXE,CAAP;AAYH,KAbD;AAcH;;AAKLM,EAAAA,MAAM,GAAE;AACR,WACI;AAAK,MAAA,SAAS,EAAE,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEK,KAAKvB,KAAL,CAAWM,QAAX,CAAoBC,MAApB,CAA2BC,GAA3B,CAA+BC,KAAK,IAAI;AAAQ,MAAA,OAAO,EAAE,KAAKR,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAoC;AAAK,MAAA,GAAG,EAAEQ,KAAK,CAACW,GAAhB;AAAsB,MAAA,EAAE,EAAEX,KAAK,CAACW,GAAhC;AAAqC,MAAA,GAAG,EAAE,EAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAApC,CAAxC,CAFL,EAGK,KAAKhB,KAAL,CAAWD,oBAAX,GAAkC,oBAAC,QAAD;AAAU,MAAA,EAAE,wBAAiB,KAAKH,KAAL,CAAWM,QAAX,CAAoBc,GAArC,CAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAlC,GAA8F,IAHnG,CADJ;AASC;;AArCuD","sourcesContent":["import React, {Component} from \"react\"\r\nimport {Redirect} from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport {SERVER_HOST} from \"../config/global_constants\";\r\nimport \"../css/TShirtLayout.css\";\r\nexport default class MainPagePhotoData extends Component{\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            redirectToTShirtView:false\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.props.products.photos.map(photo =>{\r\n            return axios.get(`${SERVER_HOST}/products/photo/${photo.filename}`)\r\n                .then(res =>{\r\n                    if (res.data){\r\n                        if (res.data.errorMessage){\r\n                            console.log(res.data.errorMessage)\r\n                        }else{\r\n                            document.getElementById(photo._id).src=`data:;base64,${res.data.image}`\r\n                        }\r\n                    }else{\r\n                        console.log(\"Record not found\")\r\n                    }\r\n                })\r\n        })\r\n    }\r\n\r\n    handleReturn = () => {\r\n        this.setState({redirectToTShirtView: true})\r\n    }\r\nrender(){\r\nreturn(\r\n    <div className={\"tshirts-rows\"}>\r\n\r\n        {this.props.products.photos.map(photo => <button onClick={this.handleReturn}><img key={photo._id}  id={photo._id} alt={\"\"} /></button>)}\r\n        {this.state.redirectToTShirtView ? <Redirect to={`/TShirtView/${this.props.products._id}`}/> : null }\r\n           \r\n           </div>\r\n\r\n)\r\n}\r\n}"]},"metadata":{},"sourceType":"module"}