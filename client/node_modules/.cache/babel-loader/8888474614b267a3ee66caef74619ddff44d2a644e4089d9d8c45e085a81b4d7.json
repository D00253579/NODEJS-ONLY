{"ast":null,"code":"var _jsxFileName = \"/Users/lukehilliard/Desktop/Full Stack CA2/NODEJS-ONLY/client/src/components/AdminDashboard/AdminDashboard.js\";\nimport React, { Component } from \"react\";\nimport { SERVER_HOST } from \"../../config/global_constants\";\nimport axios from \"axios\";\nimport Navbar from \"../NavBar\";\nimport Footer from \"../Footer\";\nimport AdminProductView from \"./AdminProductView\";\nimport Filters from \"./Filters\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport AdminControls from \"./AdminControls\";\nimport FilterImage from \"../../Images/FilterImage.png\";\nimport SortImage from \"../../Images/SortIcon.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class AdminDashboard extends Component {\n  constructor(props) {\n    super(props);\n    this.updateProducts = newProductState => {\n      this.setState({\n        products: newProductState\n      });\n      console.log(\"State of products updated \");\n    };\n    // Set natural ordering of products\n    this.sortName = () => {\n      // default descending\n      let productNaturalOrderByName = [...this.state.products]; // soft copy of products to manipulate\n\n      let descendingProducts = productNaturalOrderByName.sort((a, b) => a.name < b.name ? -1 : 1);\n      this.updateProducts(descendingProducts);\n      console.log(\"Natural order set: product.name DESC\");\n    };\n    /*\n        Used chatgpt to help with the logic, I tried passing in the displayFilters and then setting the state to true.\n        However, doing it that way would result in the filters staying on the page until you refresh.\n        showFilters is used to toggle between showing the filters (state is false then hide filters),\n        onClick twice will hide the filters again\n     */\n    this.showFilters = e => {\n      this.setState({\n        displayFilters: !this.state.displayFilters\n      });\n    };\n    this.state = {\n      products: [],\n      defaultProducts: [],\n      // If no filters are applied\n      rowClickedID: 0,\n      displayFilters: false //false until icon is clicked\n    };\n  }\n  componentDidMount() {\n    // Fetch products in the parent component\n    axios.get(`${SERVER_HOST}/products`).then(res => {\n      if (res.data) {\n        if (res.data.errorMessage) {\n          /* TODO\n              Display a message to the screen showing the products were not found */\n\n          console.log(res.data.errorMessage);\n        } else {\n          console.log(\"Records read to Admin dashboard\");\n          this.setState({\n            products: res.data,\n            // This state of products when passed will have the filters applied\n            defaultProducts: res.data // keep a default view for filtering\n          });\n          this.sortName();\n        }\n      } else {\n        console.log(\"Record not found\");\n      }\n    });\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-head-container\",\n        children: /*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(AdminControls, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-body-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sort-box\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sort-button\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"SORT\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"sort-icon\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: SortImage,\n                alt: \"sort\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-box\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-button\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"FILTERS\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"filter-icon\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: FilterImage,\n                alt: \"filter\",\n                onClick: this.showFilters\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 29\n            }, this), this.state.displayFilters && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"filter-container\",\n              children: /*#__PURE__*/_jsxDEV(Filters, {\n                updateProducts: this.updateProducts,\n                products: this.state.products,\n                defaultProducts: this.state.defaultProducts\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"admin-table-container\",\n          children: /*#__PURE__*/_jsxDEV(AdminProductView, {\n            products: this.state.products,\n            updateProducts: this.updateProducts\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"testing-return\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          className: \"testing-red-button\",\n          to: \"/TestingDirectory\",\n          children: \"RETURN\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 49\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n        children: /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this);\n  }\n}","map":{"version":3,"names":["React","Component","SERVER_HOST","axios","Navbar","Footer","AdminProductView","Filters","Link","Redirect","AdminControls","FilterImage","SortImage","jsxDEV","_jsxDEV","AdminDashboard","constructor","props","updateProducts","newProductState","setState","products","console","log","sortName","productNaturalOrderByName","state","descendingProducts","sort","a","b","name","showFilters","e","displayFilters","defaultProducts","rowClickedID","componentDidMount","get","then","res","data","errorMessage","render","children","className","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","onClick","to"],"sources":["/Users/lukehilliard/Desktop/Full Stack CA2/NODEJS-ONLY/client/src/components/AdminDashboard/AdminDashboard.js"],"sourcesContent":["import React, {Component} from \"react\";\nimport {SERVER_HOST} from \"../../config/global_constants\";\nimport axios from \"axios\";\nimport Navbar from \"../NavBar\"\nimport Footer from \"../Footer\";\nimport AdminProductView from \"./AdminProductView\";\nimport Filters from \"./Filters\";\nimport {Link, Redirect} from \"react-router-dom\";\nimport AdminControls from \"./AdminControls\";\nimport FilterImage from \"../../Images/FilterImage.png\";\nimport SortImage from \"../../Images/SortIcon.png\";\n\n\nexport default class AdminDashboard extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            products: [],\n            defaultProducts: [], // If no filters are applied\n            rowClickedID: 0,\n            displayFilters: false //false until icon is clicked\n        }\n    }\n\n    componentDidMount() {\n        // Fetch products in the parent component\n        axios.get(`${SERVER_HOST}/products`)\n            .then((res) => {\n                if (res.data) {\n                    if (res.data.errorMessage) {\n                        /* TODO\n                            Display a message to the screen showing the products were not found */\n\n\n                        console.log(res.data.errorMessage);\n                    } else {\n                        console.log(\"Records read to Admin dashboard\");\n                        this.setState({\n                            products: res.data,       // This state of products when passed will have the filters applied\n                            defaultProducts: res.data // keep a default view for filtering\n\n                        });\n                        this.sortName()\n                    }\n                } else {\n                    console.log(\"Record not found\");\n                }\n            });\n    }\n\n\n    updateProducts = (newProductState) => {\n        this.setState({products: newProductState})\n        console.log(\"State of products updated \")\n    }\n\n    // Set natural ordering of products\n    sortName = () => { // default descending\n        let productNaturalOrderByName = [...this.state.products] // soft copy of products to manipulate\n\n            let descendingProducts = productNaturalOrderByName.sort((a, b) => a.name < b.name?-1:1)\n            this.updateProducts(descendingProducts)\n            console.log(\"Natural order set: product.name DESC\")\n    }\n\n    /*\n        Used chatgpt to help with the logic, I tried passing in the displayFilters and then setting the state to true.\n        However, doing it that way would result in the filters staying on the page until you refresh.\n        showFilters is used to toggle between showing the filters (state is false then hide filters),\n        onClick twice will hide the filters again\n     */\n\n    showFilters = e => {\n        this.setState({displayFilters: !this.state.displayFilters})\n    }\n\n    render() {\n\n        return (\n            <div>\n\n                <div className=\"admin-head-container\">\n                    <Navbar/>\n                </div>\n\n                <AdminControls/>\n                <div className=\"admin-body-container\">\n                    <div className={\"sort-box\"}>\n                        <div className={\"sort-button\"}>\n                            <h1>SORT</h1>\n                            <i className={\"sort-icon\"}>\n                                <img src={SortImage} alt=\"sort\"/>\n                            </i>\n                        </div>\n                    </div>\n\n                    <div className={\"filter-box\"}>\n                        <div className={\"filter-button\"}>\n                            <h1>FILTERS</h1>\n                            <i className={\"filter-icon\"}>\n                                <img src={FilterImage} alt=\"filter\" onClick={this.showFilters}/>\n                            </i>\n                            {this.state.displayFilters && (\n                                <div className=\"filter-container\">\n                                    <Filters\n                                        updateProducts={this.updateProducts}\n                                        products={this.state.products}\n                                        defaultProducts={this.state.defaultProducts}\n                                    />\n                                </div>\n                            )}\n                        </div>\n                    </div>\n                    <div className=\"admin-table-container\">\n                        <AdminProductView\n                            products={this.state.products}\n                            updateProducts={this.updateProducts}\n                        />\n                    </div>\n\n                </div>\n\n                <div className=\"testing-return\"><Link className=\"testing-red-button\"\n                                                      to={\"/TestingDirectory\"}>RETURN</Link></div>\n                <footer>\n                    <Footer/>\n                </footer>\n            </div>\n\n\n        )\n    }\n\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}