{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\jamie\\\\Desktop\\\\CA2\\\\NODEJS-ONLY\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\jamie\\\\Desktop\\\\CA2\\\\NODEJS-ONLY\\\\client\\\\src\\\\components\\\\AdminDashboard\\\\AdminEditProduct.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { SERVER_HOST } from \"../../config/global_constants\";\nimport { Redirect } from \"react-router-dom\";\nimport Navbar from \"../NavBar\";\nexport default class AdminEditProduct extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      const name = e.target.name;\n      const value = e.target.value;\n      this.setState(prevState => ({\n        product: _objectSpread({}, prevState.product, {\n          [name]: value\n        })\n      }));\n    };\n\n    this.handleReturn = () => {\n      this.setState({\n        redirectToDashboard: true\n      });\n    };\n\n    this.handleDeleteProduct = () => {\n      const productID = this.props.match.params.id; //console.log(productID)\n\n      axios.delete(\"\".concat(SERVER_HOST, \"/products/\").concat(productID), {\n        headers: {\n          \"authorization\": localStorage.token\n        }\n      }).then(res => {\n        if (res.data) {\n          if (res.data.errorMessage) {} else {\n            console.log(\"Product has been deleted\");\n          }\n        } else {\n          console.log(\"Product not deleted\");\n        }\n      });\n      this.setState({\n        redirectToDashboard: true\n      });\n    };\n\n    this.state = {\n      product: [],\n      redirectToDashboard: false\n    };\n  }\n\n  componentDidMount() {\n    const productID = this.props.match.params.id; // get productID passed from redirect parameters\n    //console.log(productID)\n    // get the product with the matching id from database collection\n\n    axios.get(\"\".concat(SERVER_HOST, \"/products/\").concat(productID), {\n      headers: {\n        \"authorization\": localStorage.token\n      }\n    }).then(res => {\n      if (res.data) {\n        if (res.data.errorMessage) {} else {\n          console.log(\"Product found and displaying in AdminEditProduct\");\n          this.setState({\n            product: res.data\n          }); // set state of product to response data\n        }\n      } else {\n        console.log(\"Product not found\");\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, this.state.redirectToDashboard ? React.createElement(Redirect, {\n      to: \"/AdminDashboard/AdminDashboard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }) : null, React.createElement(\"div\", {\n      className: \"admin-head-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"admin-edit-product\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Are you sure you want to delete this user?\"), React.createElement(\"button\", {\n      onClick: this.handleDeleteProduct,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Delete\"), React.createElement(\"button\", {\n      onClick: this.handleReturn,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, \"Cancel\")));\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\jamie\\Desktop\\CA2\\NODEJS-ONLY\\client\\src\\components\\AdminDashboard\\AdminEditProduct.js"],"names":["React","Component","axios","SERVER_HOST","Redirect","Navbar","AdminEditProduct","constructor","props","handleChange","e","name","target","value","setState","prevState","product","handleReturn","redirectToDashboard","handleDeleteProduct","productID","match","params","id","delete","headers","localStorage","token","then","res","data","errorMessage","console","log","state","componentDidMount","get","render"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\"\r\nimport axios from \"axios\";\r\nimport {SERVER_HOST} from \"../../config/global_constants\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport Navbar from \"../NavBar\";\r\n\r\nexport default class AdminEditProduct extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            product: [],\r\n            redirectToDashboard: false\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        const productID = this.props.match.params.id // get productID passed from redirect parameters\r\n        //console.log(productID)\r\n\r\n        // get the product with the matching id from database collection\r\n        axios.get(`${SERVER_HOST}/products/${productID}`,{headers:{\"authorization\":localStorage.token}})\r\n            .then(res => {\r\n                if(res.data) {\r\n                    if(res.data.errorMessage) {\r\n\r\n                    } else {\r\n                        console.log(\"Product found and displaying in AdminEditProduct\")\r\n                        this.setState({product: res.data}) // set state of product to response data\r\n                    }\r\n                } else {\r\n                    console.log(\"Product not found\")\r\n                }\r\n            })\r\n    }\r\n\r\n\r\n    handleChange = (e) => {\r\n        const name = e.target.name\r\n        const value = e.target.value\r\n        this.setState((prevState) => ({\r\n            product: {\r\n                ...prevState.product,\r\n                [name]: value,\r\n            }\r\n        }))\r\n    }\r\n    handleReturn = () => {\r\n        this.setState({redirectToDashboard: true})\r\n    }\r\n\r\n\r\n\r\n    handleDeleteProduct = () => {\r\n        const productID = this.props.match.params.id\r\n        //console.log(productID)\r\n        axios.delete(`${SERVER_HOST}/products/${productID}`, {headers:{\"authorization\":localStorage.token}})\r\n            .then (res =>\r\n            {\r\n                if(res.data) {\r\n                    if(res.data.errorMessage) {\r\n\r\n                    } else {\r\n                        console.log(\"Product has been deleted\")\r\n                    }\r\n                } else {\r\n                    console.log(\"Product not deleted\")\r\n                }\r\n            })\r\n        this.setState({redirectToDashboard: true})\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.state.redirectToDashboard ? <Redirect to={\"/AdminDashboard/AdminDashboard\"}/> : null }\r\n\r\n                <div className=\"admin-head-container\">\r\n                    <Navbar/>\r\n                </div>\r\n                <div className=\"admin-edit-product\">\r\n                    <h1>Are you sure you want to delete this user?</h1>\r\n\r\n                        <button onClick={this.handleDeleteProduct}>Delete</button>\r\n                        <button onClick={this.handleReturn}>Cancel</button>\r\n\r\n            </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}