{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\caitl\\\\Desktop\\\\CA2_FullStack\\\\NODEJS-ONLY\\\\client\\\\src\\\\components\\\\NavBar.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Logo from \"../Images/logo.png\";\nimport AccountIcon from \"../Images/AccountIcon.png\";\nimport BagIcon from \"../Images/BagIcon.png\";\nimport SearchIcon from \"../Images/SearchIcon.png\";\nimport login from \"./Login/Login\";\nimport { SERVER_HOST } from \"../config/global_constants\";\nimport ShoppingCart from \"./ShoppingCart\";\nimport SearchDropdown from \"./SearchDropdown\";\nimport axios from \"axios\";\nexport default class NavBar extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSearchChange = e => {\n      this.setState({\n        searchInput: e.target.value\n      });\n\n      if (this.state.searchInput.length > 0) {\n        this.handleProductSearch();\n      } else {\n        this.setState({\n          searchResults: []\n        });\n      }\n    };\n\n    this.handleProductSearch = () => {\n      let matchingProducts = this.state.products.filter(product => product.name.toLowerCase().includes(this.state.searchInput.toLowerCase()) || product.brand.toLowerCase().includes(this.state.searchInput.toLowerCase()));\n      matchingProducts.sort((a, b) => a.name < b.name ? -1 : 1);\n      this.setState({\n        searchResults: matchingProducts\n      });\n      console.log(\"Found Products: \", matchingProducts);\n    };\n\n    this.state = {\n      products: [],\n      searchResults: [],\n      searchInput: \"\"\n    };\n  }\n\n  componentDidMount() {\n    // Fetch products in the parent component\n    axios.get(\"\".concat(SERVER_HOST, \"/products\")).then(res => {\n      if (res.data) {\n        if (res.data.errorMessage) {\n          console.log(res.data.errorMessage);\n        } else {\n          console.log(\"Records read to Admin dashboard\");\n          this.setState({\n            products: res.data\n          });\n        }\n      } else {\n        console.log(\"Record not found\");\n      }\n    });\n  }\n\n  render() {\n    //console.log(\"Search results in NavBar: \",this.state.searchResults)\n    return React.createElement(\"div\", {\n      className: \"nav-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"nav\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"search-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"search-bar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      id: \"search\",\n      placeholder: \"Search for names and brands\",\n      onChange: this.handleSearchChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), this.state.searchInput.length > 0 ? React.createElement(SearchDropdown, {\n      searchResults: this.state.searchResults,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }) : null), React.createElement(\"div\", {\n      className: \"icons-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"searchIcon\",\n      onClick: this.handleProductSearch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: SearchIcon,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"icons-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"logo-image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: Logo,\n      alt: \"logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"icons-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/AccountPage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"account\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: AccountIcon,\n      alt: \"Account Tab\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"icons-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/ShoppingCart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"shopping-bag\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: BagIcon,\n      alt: \"Shopping Cart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    })))))));\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\caitl\\Desktop\\CA2_FullStack\\NODEJS-ONLY\\client\\src\\components\\NavBar.js"],"names":["React","Component","Link","Logo","AccountIcon","BagIcon","SearchIcon","login","SERVER_HOST","ShoppingCart","SearchDropdown","axios","NavBar","constructor","props","handleSearchChange","e","setState","searchInput","target","value","state","length","handleProductSearch","searchResults","matchingProducts","products","filter","product","name","toLowerCase","includes","brand","sort","a","b","console","log","componentDidMount","get","then","res","data","errorMessage","render"],"mappings":"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","sourcesContent":["import React, {Component} from \"react\"\r\nimport {Link} from \"react-router-dom\"\r\nimport Logo from \"../Images/logo.png\"\r\nimport AccountIcon from \"../Images/AccountIcon.png\"\r\nimport BagIcon from \"../Images/BagIcon.png\"\r\nimport SearchIcon from \"../Images/SearchIcon.png\"\r\nimport login from \"./Login/Login\";\r\nimport {SERVER_HOST} from \"../config/global_constants\";\r\nimport ShoppingCart from \"./ShoppingCart\";\r\nimport SearchDropdown from \"./SearchDropdown\";\r\nimport axios from \"axios\";\r\n\r\nexport default class NavBar extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            products: [],\r\n            searchResults: [],\r\n            searchInput: \"\",\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        // Fetch products in the parent component\r\n        axios.get(`${SERVER_HOST}/products`)\r\n            .then((res) => {\r\n                if (res.data) {\r\n                    if (res.data.errorMessage) {\r\n\r\n                        console.log(res.data.errorMessage);\r\n                    } else {\r\n                        console.log(\"Records read to Admin dashboard\");\r\n                        this.setState({\r\n                            products: res.data,\r\n                        });\r\n                    }\r\n                } else {\r\n                    console.log(\"Record not found\");\r\n                }\r\n            });\r\n    }\r\n\r\n    handleSearchChange = (e) => {\r\n        this.setState({searchInput: e.target.value})\r\n        if(this.state.searchInput.length > 0) {\r\n            this.handleProductSearch()\r\n        } else {\r\n            this.setState({searchResults: []})\r\n        }\r\n    }\r\n\r\n    handleProductSearch = () => {\r\n        let matchingProducts = this.state.products.filter((product) =>\r\n            (product.name.toLowerCase().includes(this.state.searchInput.toLowerCase()) ||\r\n            product.brand.toLowerCase().includes(this.state.searchInput.toLowerCase()))\r\n        )\r\n\r\n        matchingProducts.sort((a, b) => a.name < b.name?-1:1)\r\n        this.setState({searchResults: matchingProducts})\r\n        console.log(\"Found Products: \",matchingProducts)\r\n    }\r\n\r\n    render() {\r\n        //console.log(\"Search results in NavBar: \",this.state.searchResults)\r\n        return (\r\n            <div className=\"nav-container\">\r\n                <nav>\r\n                    <div className={\"container\"}>\r\n                        <div className={\"search-container\"}>\r\n                            <div className=\"search-bar\">\r\n                                <input        \r\n                                    type=\"text\"\r\n                                    id=\"search\"\r\n                                    placeholder=\"Search for names and brands\"\r\n                                    onChange={this.handleSearchChange}\r\n                                />\r\n                                {this.state.searchInput.length > 0 ?\r\n                                    <SearchDropdown\r\n                                        searchResults={this.state.searchResults}\r\n                                    />\r\n                                    : null\r\n                                }\r\n                            </div>\r\n                            <div className={\"icons-container\"}>\r\n                                <i className={\"searchIcon\"} onClick={this.handleProductSearch}>\r\n                                    <img src={SearchIcon}/>\r\n                                </i>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className={\"icons-container\"}>\r\n                            <i className={\"logo-image\"}>\r\n                                <img src={Logo} alt=\"logo\"/>\r\n                            </i>\r\n                        </div>\r\n\r\n                        <div className={\"icons-container\"}>\r\n                            <Link to={\"/AccountPage\"}>\r\n                                <i className={\"account\"}>\r\n                                    <img src={AccountIcon} alt=\"Account Tab\"/>\r\n                                </i>\r\n                            </Link>\r\n                        </div>\r\n                        <div className={\"icons-container\"}>\r\n                            <Link to={\"/ShoppingCart\"}>\r\n                                <i className={\"shopping-bag\"}>\r\n                                    <img src={BagIcon} alt=\"Shopping Cart\"/>\r\n                                </i>\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                </nav>\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}