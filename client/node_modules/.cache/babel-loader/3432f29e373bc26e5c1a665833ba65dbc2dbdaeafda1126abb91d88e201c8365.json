{"ast":null,"code":"import React,{Component}from\"react\";import{SERVER_HOST}from\"../../config/global_constants\";import axios from\"axios\";import Navbar from\"../NavBar\";import Footer from\"../Footer\";import AdminProductView from\"./AdminProductView\";import Filters from\"./Filters\";import Sorts from\"./Sorts\";import{Link,Redirect}from\"react-router-dom\";import AdminControls from\"./AdminControls\";import FilterImage from\"../../Images/FilterImage.png\";import SortImage from\"../../Images/SortIcon.png\";import AdminMenu from\"./AdminMenu\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default class AdminDashboard extends Component{constructor(props){super(props);this.updateProducts=newProductState=>{this.setState({products:newProductState});console.log(\"State of products updated \");};// Set natural ordering of products\nthis.sortName=()=>{// default descending\nlet productNaturalOrderByName=[...this.state.products];// soft copy of products to manipulate\nlet descendingProducts=productNaturalOrderByName.sort((a,b)=>a.name<b.name?-1:1);this.updateProducts(descendingProducts);console.log(\"Natural order set: product.name DESC\");};/*\r\n        Used chatgpt to help with the logic, I tried passing in the displayFilters and then setting the state to true.\r\n        However, doing it that way would result in the filters staying on the page until you refresh.\r\n        showFilters is used to toggle between showing the filters (state is false then hide filters),\r\n        onClick twice will hide the filters again\r\n     */this.showFilters=e=>{this.setState({displayFilters:!this.state.displayFilters});};this.showSort=e=>{if(!this.state.displaySort){this.setState({displaySort:true});}else{this.setState({displaySort:false});}//console.log(his.state.displaySort)\n};this.state={products:[],defaultProducts:[],// If no filters are applied\nrowClickedID:0,displayFilters:false,//false until icon is clicked\ndisplaySort:false};}componentDidMount(){// Fetch products in the parent component\naxios.get(\"\".concat(SERVER_HOST,\"/products\")).then(res=>{console.log(\"Records read to Admin dashboard\");this.setState({products:res.data,// This state of products when passed will have the filters applied\ndefaultProducts:res.data// keep a default view for filtering\n});this.sortName();}).catch(err=>{});}render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"admin-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"admin-head-container\",children:/*#__PURE__*/_jsx(Navbar,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"side-menu\",children:/*#__PURE__*/_jsx(AdminMenu,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"sort-box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sort-button\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"SORT\"}),/*#__PURE__*/_jsx(\"i\",{className:\"sort-icon\",children:/*#__PURE__*/_jsx(\"img\",{src:SortImage,alt:\"sort\",onClick:this.showSort})}),this.state.displaySort?/*#__PURE__*/_jsx(\"div\",{className:\"sort-container\",children:/*#__PURE__*/_jsx(Sorts,{updateProducts:this.updateProducts,products:this.state.products,defaultProducts:this.state.defaultProducts})}):null]})}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-box\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"filter-button\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"FILTER\"}),/*#__PURE__*/_jsx(\"i\",{className:\"filter-icon\",children:/*#__PURE__*/_jsx(\"img\",{src:FilterImage,alt:\"filter\",onClick:this.showFilters})}),this.state.displayFilters&&/*#__PURE__*/_jsx(\"div\",{className:\"filter-container\",children:/*#__PURE__*/_jsx(Filters,{updateProducts:this.updateProducts,products:this.state.products,defaultProducts:this.state.defaultProducts})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-body-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"admin-table-container\",children:/*#__PURE__*/_jsx(AdminProductView,{products:this.state.products,updateProducts:this.updateProducts})}),/*#__PURE__*/_jsx(\"div\",{className:\"testing-return\",children:/*#__PURE__*/_jsx(Link,{className:\"testing-red-button\",to:\"/TestingDirectory\",children:\"RETURN\"})})]})]}),/*#__PURE__*/_jsx(\"footer\",{children:/*#__PURE__*/_jsx(Footer,{})})]});}}","map":{"version":3,"names":["React","Component","SERVER_HOST","axios","Navbar","Footer","AdminProductView","Filters","Sorts","Link","Redirect","AdminControls","FilterImage","SortImage","AdminMenu","jsx","_jsx","jsxs","_jsxs","AdminDashboard","constructor","props","updateProducts","newProductState","setState","products","console","log","sortName","productNaturalOrderByName","state","descendingProducts","sort","a","b","name","showFilters","e","displayFilters","showSort","displaySort","defaultProducts","rowClickedID","componentDidMount","get","concat","then","res","data","catch","err","render","children","className","src","alt","onClick","to"],"sources":["C:/Users/jamie/Desktop/CA2/NODEJS-ONLY/client/src/components/AdminDashboard/AdminDashboard.js"],"sourcesContent":["import React, {Component} from \"react\";\r\nimport {SERVER_HOST} from \"../../config/global_constants\";\r\nimport axios from \"axios\";\r\nimport Navbar from \"../NavBar\"\r\nimport Footer from \"../Footer\";\r\nimport AdminProductView from \"./AdminProductView\";\r\nimport Filters from \"./Filters\";\r\nimport Sorts from \"./Sorts\";\r\nimport {Link, Redirect} from \"react-router-dom\";\r\nimport AdminControls from \"./AdminControls\";\r\nimport FilterImage from \"../../Images/FilterImage.png\";\r\nimport SortImage from \"../../Images/SortIcon.png\";\r\nimport AdminMenu from \"./AdminMenu\";\r\n\r\nexport default class AdminDashboard extends Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            products: [],\r\n            defaultProducts: [], // If no filters are applied\r\n            rowClickedID: 0,\r\n            displayFilters: false, //false until icon is clicked\r\n            displaySort: false\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        // Fetch products in the parent component\r\n        axios.get(`${SERVER_HOST}/products`)\r\n            .then((res) => {\r\n\r\n                        console.log(\"Records read to Admin dashboard\");\r\n                        this.setState({\r\n                            products: res.data,       // This state of products when passed will have the filters applied\r\n                            defaultProducts: res.data // keep a default view for filtering\r\n                        });\r\n                        this.sortName()\r\n            })\r\n            .catch(err=>{\r\n\r\n            })\r\n    }\r\n\r\n\r\n    updateProducts = (newProductState) => {\r\n        this.setState({products: newProductState})\r\n        console.log(\"State of products updated \")\r\n    }\r\n\r\n    // Set natural ordering of products\r\n    sortName = () => { // default descending\r\n        let productNaturalOrderByName = [...this.state.products] // soft copy of products to manipulate\r\n\r\n\r\n            let descendingProducts = productNaturalOrderByName.sort((a, b) => a.name < b.name?-1:1)\r\n            this.updateProducts(descendingProducts)\r\n            console.log(\"Natural order set: product.name DESC\")\r\n    }\r\n\r\n    /*\r\n        Used chatgpt to help with the logic, I tried passing in the displayFilters and then setting the state to true.\r\n        However, doing it that way would result in the filters staying on the page until you refresh.\r\n        showFilters is used to toggle between showing the filters (state is false then hide filters),\r\n        onClick twice will hide the filters again\r\n     */\r\n\r\n    showFilters = (e) => {\r\n        this.setState({displayFilters: !this.state.displayFilters})\r\n    }\r\n\r\n    showSort = (e) => {\r\n        if(!this.state.displaySort) {\r\n            this.setState({displaySort : true})\r\n        } else {\r\n            this.setState({displaySort : false})\r\n        }\r\n        //console.log(his.state.displaySort)\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"admin-container\">\r\n                    <div className=\"admin-head-container\">\r\n                        <Navbar/>\r\n                    </div>\r\n                    <div className=\"side-menu\">\r\n                        <AdminMenu/>\r\n                    </div>\r\n\r\n\r\n                    <div className={\"sort-box\"}>\r\n                        <div className={\"sort-button\"}>\r\n                            <h1>SORT</h1>\r\n                            <i className={\"sort-icon\"}>\r\n                                <img src={SortImage} alt=\"sort\" onClick={this.showSort}/>\r\n                            </i>\r\n                            {this.state.displaySort ?\r\n                                <div className=\"sort-container\">\r\n                                    <Sorts\r\n                                        updateProducts={this.updateProducts}\r\n                                        products={this.state.products}\r\n                                        defaultProducts={this.state.defaultProducts}\r\n                                    />\r\n                                </div>\r\n                                : null\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    <div className={\"filter-box\"}>\r\n                        <div className={\"filter-button\"}>\r\n                            <h1>FILTER</h1>\r\n                            <i className={\"filter-icon\"}>\r\n                                <img src={FilterImage} alt=\"filter\" onClick={this.showFilters}/>\r\n                            </i>\r\n                            {this.state.displayFilters && (\r\n                                <div className=\"filter-container\">\r\n                                    <Filters\r\n                                        updateProducts={this.updateProducts}\r\n                                        products={this.state.products}\r\n                                        defaultProducts={this.state.defaultProducts}\r\n                                    />\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                    {/*<AdminControls/>*/}\r\n                    <div className=\"admin-body-container\">\r\n                        <div className=\"admin-table-container\">\r\n                            <AdminProductView\r\n                                products={this.state.products}\r\n                                updateProducts={this.updateProducts}\r\n                            />\r\n                        </div>\r\n                        <div className=\"testing-return\"><Link className=\"testing-red-button\"\r\n                                                              to={\"/TestingDirectory\"}>RETURN</Link></div>\r\n                    </div>\r\n                </div>\r\n                <footer>\r\n                    <Footer/>\r\n                </footer>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}