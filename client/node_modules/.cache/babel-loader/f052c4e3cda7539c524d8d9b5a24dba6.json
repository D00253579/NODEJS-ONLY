{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jamie\\\\Desktop\\\\CA2\\\\NODEJS-ONLY\\\\client\\\\src\\\\components\\\\AdminDashboard\\\\DeleteUsers.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { SERVER_HOST } from \"../../config/global_constants\";\nimport { Redirect } from \"react-router-dom\";\nexport default class DeleteUsers extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleDeleteUser = () => {\n      const userID = this.props.match.params.id; // get productID passed from redirect parameters\n\n      console.log(userID);\n      console.log(\"\".concat(SERVER_HOST, \"/users/\").concat(userID));\n      axios.delete(\"\".concat(SERVER_HOST, \"/users/\").concat(userID), {\n        headers: {\n          \"authorization\": localStorage.token\n        }\n      }).then(res => {\n        if (res.data) {\n          if (res.data.errorMessage) {} else {\n            console.log(\"Product has been deleted\");\n            this.setState({\n              redirectToUserDashboard: true\n            });\n          }\n        } else {\n          console.log(\"Product not deleted\");\n        }\n      });\n    };\n\n    this.handleReturn = () => {\n      this.setState({\n        redirectToUserDashboard: true\n      });\n    };\n\n    this.state = {\n      redirectToUserDashboard: false\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, this.state.redirectToUserDashboard ? React.createElement(Redirect, {\n      to: \"/AdminDashboard/ViewUsers\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }) : null, React.createElement(\"div\", {\n      className: \"admin-edit-product\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"Are you sure you want to delete this user?\"), React.createElement(\"button\", {\n      onClick: this.handleDeleteUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"Delete\"), React.createElement(\"button\", {\n      onClick: this.handleReturn,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, \"Cancel\")));\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\jamie\\Desktop\\CA2\\NODEJS-ONLY\\client\\src\\components\\AdminDashboard\\DeleteUsers.js"],"names":["React","Component","axios","SERVER_HOST","Redirect","DeleteUsers","constructor","props","handleDeleteUser","userID","match","params","id","console","log","delete","headers","localStorage","token","then","res","data","errorMessage","setState","redirectToUserDashboard","handleReturn","state","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,WAAR,QAA0B,+BAA1B;AACA,SAAQC,QAAR,QAAuB,kBAAvB;AAEA,eAAe,MAAMC,WAAN,SAA0BJ,SAA1B,CAAoC;AAC/CK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAQnBC,gBARmB,GAQA,MAAM;AACrB,YAAMC,MAAM,GAAG,KAAKF,KAAL,CAAWG,KAAX,CAAiBC,MAAjB,CAAwBC,EAAvC,CADqB,CACqB;;AACzCC,MAAAA,OAAO,CAACC,GAAR,CAAYL,MAAZ;AACDI,MAAAA,OAAO,CAACC,GAAR,WAAeX,WAAf,oBAAoCM,MAApC;AACAP,MAAAA,KAAK,CAACa,MAAN,WAAgBZ,WAAhB,oBAAqCM,MAArC,GAA+C;AAACO,QAAAA,OAAO,EAAC;AAAC,2BAAgBC,YAAY,CAACC;AAA9B;AAAT,OAA/C,EACKC,IADL,CACWC,GAAG,IACV;AACI,YAAGA,GAAG,CAACC,IAAP,EAAa;AACT,cAAGD,GAAG,CAACC,IAAJ,CAASC,YAAZ,EAA0B,CAEzB,CAFD,MAEO;AACHT,YAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ;AACA,iBAAKS,QAAL,CAAc;AAACC,cAAAA,uBAAuB,EAAE;AAA1B,aAAd;AACH;AACJ,SAPD,MAOO;AACHX,UAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACH;AACJ,OAbL;AAeH,KA3BkB;;AAAA,SA6BnBW,YA7BmB,GA6BJ,MAAM;AACjB,WAAKF,QAAL,CAAc;AAACC,QAAAA,uBAAuB,EAAE;AAA1B,OAAd;AACH,KA/BkB;;AAGf,SAAKE,KAAL,GAAa;AACTF,MAAAA,uBAAuB,EAAE;AADhB,KAAb;AAGH;;AA2BDG,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKD,KAAL,CAAWF,uBAAX,GAAqC,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAE,2BAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAArC,GAAoF,IADzF,EAII;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDADJ,EAGQ;AAAQ,MAAA,OAAO,EAAE,KAAKhB,gBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHR,EAIQ;AAAQ,MAAA,OAAO,EAAE,KAAKiB,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJR,CAJJ,CADJ;AAcH;;AAjD8C","sourcesContent":["import React, {Component} from \"react\"\r\nimport axios from \"axios\";\r\nimport {SERVER_HOST} from \"../../config/global_constants\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nexport default class DeleteUsers extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            redirectToUserDashboard: false\r\n        }\r\n    }\r\n\r\n    handleDeleteUser = () => {\r\n        const userID = this.props.match.params.id // get productID passed from redirect parameters\r\n         console.log(userID)\r\n        console.log(`${SERVER_HOST}/users/${userID}`)\r\n        axios.delete(`${SERVER_HOST}/users/${userID}`, {headers:{\"authorization\":localStorage.token}})\r\n            .then (res =>\r\n            {\r\n                if(res.data) {\r\n                    if(res.data.errorMessage) {\r\n\r\n                    } else {\r\n                        console.log(\"Product has been deleted\")\r\n                        this.setState({redirectToUserDashboard: true})\r\n                    }\r\n                } else {\r\n                    console.log(\"Product not deleted\")\r\n                }\r\n            })\r\n\r\n    }\r\n\r\n    handleReturn = () => {\r\n        this.setState({redirectToUserDashboard: true})\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.state.redirectToUserDashboard ? <Redirect to={\"/AdminDashboard/ViewUsers\"}/> : null }\r\n\r\n\r\n                <div className=\"admin-edit-product\">\r\n                    <h1>Are you sure you want to delete this user?</h1>\r\n\r\n                        <button onClick={this.handleDeleteUser}>Delete</button>\r\n                        <button onClick={this.handleReturn}>Cancel</button>\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}