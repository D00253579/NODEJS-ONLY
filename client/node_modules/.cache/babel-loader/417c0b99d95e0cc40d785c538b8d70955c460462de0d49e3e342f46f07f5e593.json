{"ast":null,"code":"import React,{Component}from\"react\";import axios from\"axios\";import{SERVER_HOST}from\"../../config/global_constants\";import{Redirect}from\"react-router-dom\";import Navbar from\"../NavBar\";import Footer from\"../Footer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default class EditProduct extends Component{constructor(props){super(props);this.handleChange=e=>{const name=e.target.name;const value=e.target.value;this.setState(prevState=>({product:{...prevState.product,[name]:value}}));};/** Checks if the current product contains 'adult' sizes\r\n     *  true -> show adult sizes\r\n     *  false -> show kids sizes\r\n     **/this.handleSizeInputChange=e=>{const sizesToCheck=[\"xs\",\"s\",\"m\",\"l\",\"xl\"];const sizeArray=this.state.product.size.toString().split(\",\");const hasAdultSizes=sizesToCheck.some(size=>sizeArray.includes(size));// Change sizes displayed\nif(!hasAdultSizes)this.setState({alternateSizes:true});// show kids\nelse this.setState({alternateSizes:false});// show adult\nreturn hasAdultSizes;};/**\r\n     *   Checks the sizes array in the product for each size\r\n     *   if size in array, set that checkbox -> checked\r\n     */this.setPresetCheckboxes=()=>{const checkboxes=document.querySelectorAll('input[type=\"checkbox\"]');let passedSizes=this.state.product.size;passedSizes=passedSizes.map(item=>item.split(','));console.log(passedSizes);checkboxes.forEach(checkbox=>{console.log(\"here\");for(let i=0;i<passedSizes.length;i++){//console.log(\"array:\", passedSizes[i])\n//console.log(\"checkbox:\", checkbox.value)\nif(passedSizes[i][0]===checkbox.value){// console.log(\"MATCHED\")\ncheckbox.checked=true;}}});};this.handleCheckboxChange=e=>{const{checked,value}=e.target;if(checked){// if checkbox is checked add it to sizes array in product state\nthis.setState(prevState=>({product:{...prevState.product,size:[...prevState.product.size,value]}}));}else{// if unchecked remove the value from the array\nthis.setState(prevState=>({product:{...prevState.product,size:prevState.product.size.filter(size=>size!==size)}}));}};this.handleStockChange=e=>{this.setState({stock:e.target.value});};this.handleReset=()=>{this.setState({product:this.state.defaultProduct});};this.handleReturn=()=>{this.setState({redirectToDashboard:true});};this.validateInputs=()=>{let isValid=true;// true = valid\nconst product=this.state.product;console.log(\"******-> \",product);const validationPatterns={name:/^[a-zA-Z\\s-]{1,}$/,// At least one letter or space required\ncolour:/^[a-zA-Z\\s]{1,}$/,// At least one letter or space required\nprice:/^\\d+(\\.\\d{1,2})?$/,// Positive number with up to 2 decimal places allowed\ngender:/^[a-zA-Z]{1,}$/,// At least one letter required\ncategory:/^[a-zA-Z\\s]{1,}$/,// At least one letter or space required\nbrand:/^[a-zA-Z\\s-.&]{1,}$/,// At least one letter or space required\ncurrent_stock:/^\\d{1,}$/ // At least one digit required\n};const isInputValid=(input,pattern)=>{return pattern.test(input);};/** Validate product STOCK input */if(!isInputValid(product.current_stock,validationPatterns.current_stock)){isValid=false;document.getElementById(\"stockInput\").classList.add(\"invalid-input\");this.setState({stockIsInvalid:true});}else{document.getElementById(\"stockInput\").classList.remove(\"invalid-input\");this.setState({stockIsInvalid:false});}/** Validate product NAME input */if(!isInputValid(product.name,validationPatterns.name)){isValid=false;document.getElementById(\"nameInput\").classList.add(\"invalid-input\");this.setState({nameIsInvalid:true});}else{document.getElementById(\"nameInput\").classList.remove(\"invalid-input\");this.setState({nameIsInvalid:false});}/** Validate product COLOUR input  */if(!isInputValid(product.colour,validationPatterns.colour)){isValid=false;document.getElementById(\"colourInput\").classList.add(\"invalid-input\");this.setState({colourIsInvalid:true});}else{document.getElementById(\"colourInput\").classList.remove(\"invalid-input\");this.setState({colourIsInvalid:false});}/** Validate product SIZE input */const productSizes=this.state.product.size;if(productSizes.length===0){isValid=false;document.getElementById(\"sizeSelector\").classList.add(\"invalid-input\");this.setState({sizeIsInvalid:true});}else{document.getElementById(\"sizeSelector\").classList.remove(\"invalid-input\");this.setState({sizeIsInvalid:false});}/** Validate product PRICE input  */if(!isInputValid(product.price,validationPatterns.price)){isValid=false;document.getElementById(\"priceInput\").classList.add(\"invalid-input\");this.setState({priceIsInvalid:true});}else{document.getElementById(\"priceInput\").classList.remove(\"invalid-input\");this.setState({priceIsInvalid:false});}/** Validate product GENDER input */if(!isInputValid(product.gender,validationPatterns.gender)){isValid=false;document.getElementById(\"genderInput\").classList.add(\"invalid-input\");this.setState({genderIsInvalid:true});}else{document.getElementById(\"genderInput\").classList.remove(\"invalid-input\");this.setState({genderIsInvalid:false});}/** Validate product CATEGORY input */if(!isInputValid(product.category,validationPatterns.category)){isValid=false;document.getElementById(\"categoryInput\").classList.add(\"invalid-input\");this.setState({categoryIsInvalid:true});}else{document.getElementById(\"categoryInput\").classList.remove(\"invalid-input\");this.setState({categoryIsInvalid:false});}/** Validate product BRAND input */if(!isInputValid(product.brand,validationPatterns.brand)){isValid=false;document.getElementById(\"brandInput\").classList.add(\"invalid-input\");this.setState({brandIsInvalid:true});}else{document.getElementById(\"brandInput\").classList.remove(\"invalid-input\");this.setState({brandIsInvalid:false});}// if inputs are invalid trigger visual response to let user know\nif(!isValid){this.setState({inputsAreInvalid:true});}else{this.setState({inputsAreInvalid:false});}return isValid;};this.handleUpdateProduct=e=>{e.preventDefault();// scroll back to the top of the form , take from https://www.w3schools.com/howto/howto_js_scroll_into_view.asp\nconst topOfForm=document.getElementById('top-of-form');topOfForm.scrollIntoView();let updatedProduct={name:this.state.product.name,colour:this.state.product.colour,size:this.state.product.size,price:this.state.product.price,gender:this.state.product.gender,category:this.state.product.category,brand:this.state.product.brand,current_stock:this.state.stock};console.log(updatedProduct);// if function returns false then one or more inputs are empty, if true send updated product to server\nif(this.validateInputs()){axios.put(\"\".concat(SERVER_HOST,\"/products/\").concat(this.state.product._id),{updatedProduct},{headers:{\"authorization\":localStorage.token}}).then(res=>{// console.log(\"Updated product: \",updatedProduct)\nthis.setState({redirectToDashboard:true});// after the update is complete redirect back to AdminDashboard\n}).catch(err=>{this.setState({wasSubmittedAtLeastOnce:true});});}};this.handleDeleteProduct=e=>{e.preventDefault();const productID=this.props.match.params.id;//console.log(productID)\naxios.delete(\"\".concat(SERVER_HOST,\"/products/\").concat(productID),{headers:{\"authorization\":localStorage.token}}).then(res=>{// console.log(\"Product has been deleted\")\nthis.setState({redirectToDashboard:true});}).catch(err=>{});};this.state={defaultProduct:[],redirectToDashboard:false,inputsAreInvalid:false,nameIsInvalid:false,colourIsInvalid:false,sizeIsInvalid:false,priceIsInvalid:false,categoryIsInvalid:false,brandIsInInvalid:false,stockIsInInvalid:false,stock:0,product:{name:\"\",colour:\"\",size:[],price:\"\",gender:\"\",category:\"\",brand:\"\",current_stock:\"\",image_1:\"\",image_2:\"\",image_3:\"\"},wasSubmittedAtLeastOnce:false,alternateSizes:false,// false = adult size, true = kids size\nsizeText:\"Adult\"};}componentDidMount(){const productID=this.props.match.params.id;// get productID passed from redirect parameters\n// console.log(productID)\n// get the product with the matching id from database collection\naxios.get(\"\".concat(SERVER_HOST,\"/products/\").concat(productID),{headers:{\"authorization\":localStorage.token}}).then(res=>{console.log(\"Product found and displaying in EditProduct\");this.setState({product:res.data,// set state of product to response data\ndefaultProduct:res.data,stock:res.data.current_stock,size:res.data.size});console.log(\"hasAdultSizes: \",this.handleSizeInputChange());this.setPresetCheckboxes();}).catch(err=>{});}render(){//console.log(this.state.product)\n//console.log(this.validateInputs())\nlet errorMessage=\"\";if(this.state.wasSubmittedAtLeastOnce){errorMessage=/*#__PURE__*/_jsxs(\"div\",{className:\"error\",children:[\"Error: All fields must be filled in\",/*#__PURE__*/_jsx(\"br\",{})]});}return/*#__PURE__*/_jsxs(\"div\",{children:[this.state.redirectToDashboard?/*#__PURE__*/_jsx(Redirect,{to:\"/AdminDashboard/AdminDashboard\"}):null,errorMessage,/*#__PURE__*/_jsx(\"div\",{className:\"admin-head-container\",id:\"top-of-form\",children:/*#__PURE__*/_jsx(Navbar,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"admin-edit-product\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Update Products\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"edit-form\",children:[this.state.inputsAreInvalid?/*#__PURE__*/_jsx(\"div\",{className:\"err-container\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"err\",children:/*#__PURE__*/_jsx(\"p\",{children:\"One or more of the entries are empty. Please fill out all fields before updating the product.\"})})})}):null,/*#__PURE__*/_jsx(\"div\",{className:\"edit-input\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",htmlFor:\"nameInput\",children:[\"Enter Name: \",this.state.nameIsInvalid?/*#__PURE__*/_jsx(\"span\",{className:\"err\",children:\"*\"}):null,/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",id:\"nameInput\",value:this.state.product.name,onChange:this.handleChange})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"edit-input\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",htmlFor:\"colourInput\",children:[\"Enter Colour: \",this.state.colourIsInvalid?/*#__PURE__*/_jsx(\"span\",{className:\"err\",children:\"*\"}):null,/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"colour\",id:\"colourInput\",value:this.state.product.colour,onChange:this.handleChange})]})}),!this.state.alternateSizes?/*#__PURE__*/_jsx(\"div\",{className:\"create-input\",children:/*#__PURE__*/_jsxs(\"fieldset\",{className:\"size-selector\",id:\"sizeSelector\",children:[/*#__PURE__*/_jsxs(\"legend\",{children:[\"Adult Sizes \",this.state.sizeIsInvalid?/*#__PURE__*/_jsx(\"span\",{className:\"err\",children:\"*\"}):null]}),/*#__PURE__*/_jsxs(\"div\",{className:\"size-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"size-option\",children:/*#__PURE__*/_jsx(\"label\",{className:\"filter-checkboxes\",children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"x-small\",children:[\"XS\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"x-small\",name:\"size\",value:\"xs\",onChange:this.handleCheckboxChange}),/*#__PURE__*/_jsx(\"span\",{className:\"checkmark\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"size-option\",children:/*#__PURE__*/_jsx(\"label\",{className:\"filter-checkboxes\",children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"small\",children:[\"S\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"small\",name:\"size\",value:\"s\",onChange:this.handleCheckboxChange}),/*#__PURE__*/_jsx(\"span\",{className:\"checkmark\"})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"size-option\",children:/*#__PURE__*/_jsx(\"label\",{className:\"filter-checkboxes\",children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"medium\",children:[\"M\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"medium\",name:\"size\",value:\"m\",onChange:this.handleCheckboxChange}),/*#__PURE__*/_jsx(\"span\",{className:\"checkmark\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"size-option\",children:/*#__PURE__*/_jsx(\"label\",{className:\"filter-checkboxes\",children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"large\",children:[\"L\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"large\",name:\"size\",value:\"l\",onChange:this.handleCheckboxChange}),/*#__PURE__*/_jsx(\"span\",{className:\"checkmark\"})]})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"item\",children:/*#__PURE__*/_jsx(\"div\",{className:\"size-option\",children:/*#__PURE__*/_jsx(\"label\",{className:\"filter-checkboxes\",children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"x-large\",children:[\"XL\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"x-large\",name:\"size\",value:\"xl\",onChange:this.handleCheckboxChange}),/*#__PURE__*/_jsx(\"span\",{className:\"checkmark\"})]})})})})]})]})}):/*#__PURE__*/_jsx(\"div\",{className:\"create-input\",children:/*#__PURE__*/_jsxs(\"fieldset\",{className:\"size-selector\",id:\"sizeSelector\",children:[/*#__PURE__*/_jsxs(\"legend\",{children:[\"Children Sizes \",this.state.sizeIsInvalid?/*#__PURE__*/_jsx(\"span\",{className:\"err\",children:\"*\"}):null]}),/*#__PURE__*/_jsxs(\"div\",{className:\"size-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"size-option\",children:/*#__PURE__*/_jsx(\"label\",{className:\"filter-checkboxes\",children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"kid-range-1\",children:[\"6-7Y\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"kid-range-1\",name:\"size\",value:\"6-7Y\",onChange:this.handleCheckboxChange}),/*#__PURE__*/_jsx(\"span\",{className:\"checkmark\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"size-option\",children:/*#__PURE__*/_jsx(\"label\",{className:\"filter-checkboxes\",children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"kid-range-2\",children:[\"7-8Y\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"kid-range-2\",name:\"size\",value:\"7-8Y\",onChange:this.handleCheckboxChange}),/*#__PURE__*/_jsx(\"span\",{className:\"checkmark\"})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"size-option\",children:/*#__PURE__*/_jsx(\"label\",{className:\"filter-checkboxes\",children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"kid-range-3\",children:[\"8-9Y\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"kid-range-3\",name:\"size\",value:\"8-9Y\",onChange:this.handleCheckboxChange}),/*#__PURE__*/_jsx(\"span\",{className:\"checkmark\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"size-option\",children:/*#__PURE__*/_jsx(\"label\",{className:\"filter-checkboxes\",children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"kid-range-4\",children:[\"9-10y\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"kid-range-4\",name:\"size\",value:\"9-10Y\",onChange:this.handleCheckboxChange}),/*#__PURE__*/_jsx(\"span\",{className:\"checkmark\"})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"size-option\",children:/*#__PURE__*/_jsx(\"label\",{className:\"filter-checkboxes\",children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"kid-range-5\",children:[\"10-11Y\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"kid-range-5\",name:\"size\",value:\"10-11Y\",onChange:this.handleCheckboxChange}),/*#__PURE__*/_jsx(\"span\",{className:\"checkmark\"})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"size-option\",children:/*#__PURE__*/_jsx(\"label\",{className:\"filter-checkboxes\",children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"kid-range-6\",children:[\"11-12Y\",/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"kid-range-6\",name:\"size\",value:\"11-12Y\",onChange:this.handleCheckboxChange}),/*#__PURE__*/_jsx(\"span\",{className:\"checkmark\"})]})})})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"edit-input\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",htmlFor:\"priceInput\",children:[\"Enter Price: \",this.state.priceIsInvalid?/*#__PURE__*/_jsx(\"span\",{className:\"err\",children:\"*\"}):null,/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"price\",id:\"priceInput\",value:this.state.product.price,onChange:this.handleChange})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"edit-input\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",htmlFor:\"genderInput\",children:[\"Enter Gender: \",this.state.genderIsInvalid?/*#__PURE__*/_jsx(\"span\",{className:\"err\",children:\"*\"}):null,/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"gender\",id:\"genderInput\",value:this.state.product.gender,onChange:this.handleChange})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"edit-input\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",htmlFor:\"categoryInput\",children:[\"Enter Category: \",this.state.categoryIsInvalid?/*#__PURE__*/_jsx(\"span\",{className:\"err\",children:\"*\"}):null,/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"category\",id:\"categoryInput\",value:this.state.product.category,onChange:this.handleChange})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"edit-input\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",htmlFor:\"brandInput\",children:[\"Enter Brand: \",this.state.brandIsInvalid?/*#__PURE__*/_jsx(\"span\",{className:\"err\",children:\"*\"}):null,/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"brand\",id:\"brandInput\",value:this.state.product.brand,onChange:this.handleChange})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stock-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"item\",children:/*#__PURE__*/_jsxs(\"h4\",{children:[\"Current Stock: \",/*#__PURE__*/_jsx(\"span\",{className:\"stock-level\",children:this.state.product.current_stock})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"item\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",htmlFor:\"stockInput\",children:[\"New Stock: \",this.state.stockIsInvalid?/*#__PURE__*/_jsx(\"span\",{className:\"err\",children:\"*\"}):null,/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"current_stock\",id:\"stockInput\",value:this.state.stock,onChange:this.handleStockChange})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-controls\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:this.handleDeleteProduct,children:\"Delete\"}),/*#__PURE__*/_jsx(\"button\",{onClick:this.handleUpdateProduct,children:\"Update\"}),/*#__PURE__*/_jsx(\"button\",{onClick:this.handleReset,children:\"Reset\"}),/*#__PURE__*/_jsx(\"button\",{onClick:this.handleReturn,children:\"Return\"})]})]})]}),/*#__PURE__*/_jsx(\"footer\",{children:/*#__PURE__*/_jsx(Footer,{})})]});}}","map":{"version":3,"names":["React","Component","axios","SERVER_HOST","Redirect","Navbar","Footer","jsx","_jsx","jsxs","_jsxs","EditProduct","constructor","props","handleChange","e","name","target","value","setState","prevState","product","handleSizeInputChange","sizesToCheck","sizeArray","state","size","toString","split","hasAdultSizes","some","includes","alternateSizes","setPresetCheckboxes","checkboxes","document","querySelectorAll","passedSizes","map","item","console","log","forEach","checkbox","i","length","checked","handleCheckboxChange","filter","handleStockChange","stock","handleReset","defaultProduct","handleReturn","redirectToDashboard","validateInputs","isValid","validationPatterns","colour","price","gender","category","brand","current_stock","isInputValid","input","pattern","test","getElementById","classList","add","stockIsInvalid","remove","nameIsInvalid","colourIsInvalid","productSizes","sizeIsInvalid","priceIsInvalid","genderIsInvalid","categoryIsInvalid","brandIsInvalid","inputsAreInvalid","handleUpdateProduct","preventDefault","topOfForm","scrollIntoView","updatedProduct","put","concat","_id","headers","localStorage","token","then","res","catch","err","wasSubmittedAtLeastOnce","handleDeleteProduct","productID","match","params","id","delete","brandIsInInvalid","stockIsInInvalid","image_1","image_2","image_3","sizeText","componentDidMount","get","data","render","errorMessage","className","children","to","htmlFor","type","onChange","onClick"],"sources":["C:/Users/jamie/Desktop/CA2/NODEJS-ONLY/client/src/components/AdminDashboard/EditProduct.js"],"sourcesContent":["import React, {Component} from \"react\"\r\nimport axios from \"axios\";\r\nimport {SERVER_HOST} from \"../../config/global_constants\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport Navbar from \"../NavBar\";\r\nimport Footer from \"../Footer\";\r\n\r\n\r\nexport default class EditProduct extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n\r\n            defaultProduct : [],\r\n            redirectToDashboard: false,\r\n            inputsAreInvalid: false,\r\n            nameIsInvalid: false,\r\n            colourIsInvalid: false,\r\n            sizeIsInvalid: false,\r\n            priceIsInvalid: false,\r\n            categoryIsInvalid: false,\r\n            brandIsInInvalid: false,\r\n            stockIsInInvalid: false,\r\n            stock: 0,\r\n            product : {\r\n                name: \"\",\r\n                colour: \"\",\r\n                size: [],\r\n                price: \"\",\r\n                gender: \"\",\r\n                category: \"\",\r\n                brand: \"\",\r\n                current_stock: \"\",\r\n                image_1: \"\",\r\n                image_2: \"\",\r\n                image_3: \"\"\r\n            },\r\n            wasSubmittedAtLeastOnce:false,\r\n            alternateSizes: false, // false = adult size, true = kids size\r\n            sizeText: \"Adult\"\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const productID = this.props.match.params.id // get productID passed from redirect parameters\r\n        // console.log(productID)\r\n\r\n        // get the product with the matching id from database collection\r\n\r\n        axios.get(`${SERVER_HOST}/products/${productID}`,{headers:{\"authorization\":localStorage.token}})\r\n            .then(res => {\r\n\r\n                        console.log(\"Product found and displaying in EditProduct\")\r\n                        this.setState({product: res.data,// set state of product to response data\r\n                                              defaultProduct: res.data,\r\n                                              stock: res.data.current_stock,\r\n                                              size: res.data.size  })\r\n\r\n                console.log(\"hasAdultSizes: \", this.handleSizeInputChange())\r\n                this.setPresetCheckboxes()\r\n            })\r\n            .catch(err =>{\r\n\r\n            })\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        const name = e.target.name\r\n        const value = e.target.value\r\n        this.setState((prevState) => ({\r\n            product: {\r\n                ...prevState.product,\r\n                [name]: value,\r\n            }\r\n        }))\r\n    }\r\n\r\n    /** Checks if the current product contains 'adult' sizes\r\n     *  true -> show adult sizes\r\n     *  false -> show kids sizes\r\n     **/\r\n    handleSizeInputChange = (e) => {\r\n        const sizesToCheck = [\"xs\", \"s\", \"m\", \"l\", \"xl\"];\r\n        const sizeArray = this.state.product.size.toString().split(\",\");\r\n        const hasAdultSizes = sizesToCheck.some(size => sizeArray.includes(size));\r\n\r\n        // Change sizes displayed\r\n        if(!hasAdultSizes)\r\n            this.setState({alternateSizes: true}) // show kids\r\n         else\r\n             this.setState({alternateSizes: false}) // show adult\r\n        return hasAdultSizes\r\n    }\r\n\r\n    /**\r\n     *   Checks the sizes array in the product for each size\r\n     *   if size in array, set that checkbox -> checked\r\n     */\r\n    setPresetCheckboxes = () => {\r\n        const checkboxes = document.querySelectorAll('input[type=\"checkbox\"]')\r\n\r\n        let passedSizes = this.state.product.size\r\n        passedSizes = passedSizes.map(item => item.split(','))\r\n        console.log(passedSizes)\r\n        checkboxes.forEach((checkbox => {\r\n            console.log(\"here\")\r\n            for(let i =0; i < passedSizes.length; i++) {\r\n                //console.log(\"array:\", passedSizes[i])\r\n                //console.log(\"checkbox:\", checkbox.value)\r\n                if(passedSizes[i][0] === checkbox.value) {\r\n                    // console.log(\"MATCHED\")\r\n                    checkbox.checked = true;\r\n                }\r\n            }\r\n        }))\r\n    }\r\n    handleCheckboxChange = (e) => {\r\n        const {checked, value} = e.target\r\n\r\n        if(checked) { // if checkbox is checked add it to sizes array in product state\r\n            this.setState(prevState => ({\r\n                product: {\r\n                    ...prevState.product,\r\n                    size: [...prevState.product.size, value]\r\n                }\r\n\r\n            }))\r\n\r\n        } else { // if unchecked remove the value from the array\r\n            this.setState(prevState => ({\r\n                product: {\r\n                    ...prevState.product,\r\n                    size: prevState.product.size.filter(size => size !== size)\r\n                }\r\n            }))\r\n        }\r\n\r\n    }\r\n    handleStockChange = (e) => {\r\n        this.setState({stock: e.target.value})\r\n    }\r\n    handleReset = () => {\r\n        this.setState({product: this.state.defaultProduct})\r\n    }\r\n    handleReturn = () => {\r\n        this.setState({redirectToDashboard: true})\r\n    }\r\n    validateInputs = () => {\r\n        let isValid = true // true = valid\r\n        const product = this.state.product\r\n        console.log(\"******-> \", product)\r\n\r\n\r\n        const validationPatterns = {\r\n            name: /^[a-zA-Z\\s-]{1,}$/, // At least one letter or space required\r\n            colour: /^[a-zA-Z\\s]{1,}$/, // At least one letter or space required\r\n            price: /^\\d+(\\.\\d{1,2})?$/, // Positive number with up to 2 decimal places allowed\r\n            gender: /^[a-zA-Z]{1,}$/, // At least one letter required\r\n            category: /^[a-zA-Z\\s]{1,}$/, // At least one letter or space required\r\n            brand: /^[a-zA-Z\\s-.&]{1,}$/, // At least one letter or space required\r\n            current_stock: /^\\d{1,}$/ // At least one digit required\r\n        }\r\n        const isInputValid = (input, pattern) => {\r\n            return pattern.test(input)\r\n        }\r\n\r\n        /** Validate product STOCK input */\r\n        if(!isInputValid(product.current_stock, validationPatterns.current_stock)) {\r\n            isValid = false\r\n            document.getElementById(\"stockInput\").classList.add(\"invalid-input\")\r\n            this.setState({stockIsInvalid: true})\r\n        }\r\n        else\r\n        {\r\n            document.getElementById(\"stockInput\").classList.remove(\"invalid-input\")\r\n            this.setState({stockIsInvalid: false})\r\n        }\r\n\r\n        /** Validate product NAME input */\r\n        if(!isInputValid(product.name, validationPatterns.name)) {\r\n            isValid = false\r\n            document.getElementById(\"nameInput\").classList.add(\"invalid-input\")\r\n            this.setState({nameIsInvalid: true})\r\n        }\r\n        else\r\n        {\r\n            document.getElementById(\"nameInput\").classList.remove(\"invalid-input\")\r\n            this.setState({nameIsInvalid: false})\r\n        }\r\n\r\n        /** Validate product COLOUR input  */\r\n        if(!isInputValid(product.colour, validationPatterns.colour)) {\r\n            isValid = false\r\n            document.getElementById(\"colourInput\").classList.add(\"invalid-input\")\r\n            this.setState({colourIsInvalid: true})\r\n        } else {\r\n            document.getElementById(\"colourInput\").classList.remove(\"invalid-input\")\r\n            this.setState({colourIsInvalid: false})\r\n        }\r\n\r\n        /** Validate product SIZE input */\r\n        const productSizes = this.state.product.size\r\n        if(productSizes.length === 0) {\r\n            isValid = false\r\n            document.getElementById(\"sizeSelector\").classList.add(\"invalid-input\")\r\n            this.setState({sizeIsInvalid: true})\r\n        }\r\n        else\r\n        {\r\n            document.getElementById(\"sizeSelector\").classList.remove(\"invalid-input\")\r\n            this.setState({sizeIsInvalid: false})\r\n        }\r\n\r\n        /** Validate product PRICE input  */\r\n        if(!isInputValid(product.price, validationPatterns.price)) {\r\n            isValid = false\r\n            document.getElementById(\"priceInput\").classList.add(\"invalid-input\")\r\n            this.setState({priceIsInvalid: true})\r\n        } else {\r\n            document.getElementById(\"priceInput\").classList.remove(\"invalid-input\")\r\n            this.setState({priceIsInvalid: false})\r\n        }\r\n\r\n        /** Validate product GENDER input */\r\n        if(!isInputValid(product.gender, validationPatterns.gender)) {\r\n            isValid = false\r\n            document.getElementById(\"genderInput\").classList.add(\"invalid-input\")\r\n            this.setState({genderIsInvalid: true})\r\n        } else {\r\n            document.getElementById(\"genderInput\").classList.remove(\"invalid-input\")\r\n            this.setState({genderIsInvalid: false})\r\n        }\r\n\r\n        /** Validate product CATEGORY input */\r\n        if(!isInputValid(product.category, validationPatterns.category)) {\r\n            isValid = false\r\n            document.getElementById(\"categoryInput\").classList.add(\"invalid-input\")\r\n            this.setState({categoryIsInvalid: true})\r\n        } else {\r\n            document.getElementById(\"categoryInput\").classList.remove(\"invalid-input\")\r\n            this.setState({categoryIsInvalid: false})\r\n        }\r\n\r\n        /** Validate product BRAND input */\r\n        if(!isInputValid(product.brand, validationPatterns.brand)) {\r\n            isValid = false\r\n            document.getElementById(\"brandInput\").classList.add(\"invalid-input\")\r\n            this.setState({brandIsInvalid: true})\r\n        } else {\r\n            document.getElementById(\"brandInput\").classList.remove(\"invalid-input\")\r\n            this.setState({brandIsInvalid: false})\r\n        }\r\n\r\n        // if inputs are invalid trigger visual response to let user know\r\n        if(!isValid) {\r\n            this.setState({inputsAreInvalid: true})\r\n        } else {\r\n            this.setState({inputsAreInvalid: false})\r\n        }\r\n\r\n        return isValid\r\n    }\r\n\r\n    handleUpdateProduct = (e) => {\r\n        e.preventDefault()\r\n        // scroll back to the top of the form , take from https://www.w3schools.com/howto/howto_js_scroll_into_view.asp\r\n        const topOfForm = document.getElementById('top-of-form')\r\n        topOfForm.scrollIntoView()\r\n        let updatedProduct = {\r\n            name: this.state.product.name,\r\n            colour: this.state.product.colour,\r\n            size: this.state.product.size,\r\n            price: this.state.product.price,\r\n            gender: this.state.product.gender,\r\n            category: this.state.product.category,\r\n            brand: this.state.product.brand,\r\n            current_stock: this.state.stock\r\n        }\r\n        console.log(updatedProduct)\r\n\r\n        // if function returns false then one or more inputs are empty, if true send updated product to server\r\n        if(this.validateInputs()) {\r\n            axios.put(`${SERVER_HOST}/products/${this.state.product._id}`, {updatedProduct}, {headers:{\"authorization\":localStorage.token}})\r\n                .then((res) => {\r\n                            // console.log(\"Updated product: \",updatedProduct)\r\n                            this.setState({redirectToDashboard: true}) // after the update is complete redirect back to AdminDashboard\r\n\r\n                })\r\n                .catch(err =>{\r\n                    this.setState({wasSubmittedAtLeastOnce:true})\r\n                })\r\n        }\r\n\r\n    }\r\n\r\n    handleDeleteProduct = (e) => {\r\n        e.preventDefault()\r\n        const productID = this.props.match.params.id\r\n        //console.log(productID)\r\n\r\n        axios.delete(`${SERVER_HOST}/products/${productID}`, {headers:{\"authorization\":localStorage.token}})\r\n            .then (res =>\r\n            {\r\n                        // console.log(\"Product has been deleted\")\r\n                this.setState({redirectToDashboard: true})\r\n            })\r\n            .catch(err =>{\r\n\r\n            })\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        //console.log(this.state.product)\r\n        //console.log(this.validateInputs())\r\n        let errorMessage = \"\";\r\n        if(this.state.wasSubmittedAtLeastOnce)\r\n        {\r\n            errorMessage = <div className=\"error\">Error: All fields must be filled in<br/></div>;\r\n        }\r\n        return (\r\n            <div>\r\n                {this.state.redirectToDashboard ? <Redirect to={\"/AdminDashboard/AdminDashboard\"}/> : null }\r\n                {errorMessage}\r\n                <div className=\"admin-head-container\" id=\"top-of-form\">\r\n                    <Navbar/>\r\n                </div>\r\n                <div className=\"admin-edit-product\">\r\n                    <h1>Update Products</h1>\r\n                    <form className=\"edit-form\">\r\n\r\n\r\n                        {this.state.inputsAreInvalid ?\r\n                            <div className=\"err-container\">\r\n                                <div>\r\n                                    <span className=\"err\">\r\n                                        <p>One or more of the entries are empty. Please fill out all fields before updating the product.</p>\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                            : null\r\n                        }\r\n                        <div className=\"edit-input\">\r\n                            <label className=\"form-label\" htmlFor=\"nameInput\">\r\n                                Enter Name: {this.state.nameIsInvalid ? <span className=\"err\">*</span> : null}\r\n\r\n                                <input\r\n                                    type=\"text\"\r\n                                    name=\"name\"\r\n                                    id=\"nameInput\"\r\n                                    value={this.state.product.name}\r\n                                    onChange={this.handleChange}\r\n                                />\r\n                            </label>\r\n                        </div>\r\n\r\n                        <div className=\"edit-input\">\r\n                            <label className=\"form-label\" htmlFor=\"colourInput\">\r\n                                Enter Colour: {this.state.colourIsInvalid ? <span className=\"err\">*</span> : null}\r\n\r\n                                <input\r\n                                    type=\"text\"\r\n                                    name=\"colour\"\r\n                                    id=\"colourInput\"\r\n                                    value={this.state.product.colour}\r\n                                    onChange={this.handleChange}\r\n                                />\r\n                            </label>\r\n                        </div>\r\n\r\n                        {!this.state.alternateSizes ?\r\n                            <div className=\"create-input\">\r\n                                <fieldset className=\"size-selector\" id=\"sizeSelector\">\r\n                                    <legend>\r\n                                        Adult Sizes {this.state.sizeIsInvalid ? <span className=\"err\">*</span> : null}\r\n                                    </legend>\r\n\r\n                                    <div className=\"size-container\">\r\n\r\n                                        <div className=\"item\">\r\n\r\n                                            <div className=\"size-option\">\r\n                                                <label className=\"filter-checkboxes\">\r\n                                                    <label htmlFor=\"x-small\">\r\n                                                        XS\r\n                                                        <input\r\n                                                            type=\"checkbox\"\r\n                                                            id=\"x-small\"\r\n                                                            name=\"size\"\r\n                                                            value=\"xs\"\r\n                                                            onChange={this.handleCheckboxChange}\r\n                                                        />\r\n                                                        <span className=\"checkmark\"></span>\r\n                                                    </label>\r\n                                                </label>\r\n                                            </div>\r\n                                            <div className=\"size-option\">\r\n                                                <label className=\"filter-checkboxes\">\r\n                                                    <label htmlFor=\"small\">\r\n                                                        S\r\n                                                        <input\r\n                                                            type=\"checkbox\"\r\n                                                            id=\"small\"\r\n                                                            name=\"size\"\r\n                                                            value=\"s\"\r\n                                                            onChange={this.handleCheckboxChange}\r\n                                                        />\r\n                                                        <span className=\"checkmark\"></span>\r\n                                                    </label>\r\n                                                </label>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"item\">\r\n                                            <div className=\"size-option\">\r\n                                                <label className=\"filter-checkboxes\">\r\n                                                    <label htmlFor=\"medium\">\r\n                                                        M\r\n                                                        <input\r\n                                                            type=\"checkbox\"\r\n                                                            id=\"medium\"\r\n                                                            name=\"size\"\r\n                                                            value=\"m\"\r\n                                                            onChange={this.handleCheckboxChange}\r\n                                                        />\r\n                                                        <span className=\"checkmark\"></span>\r\n                                                    </label>\r\n                                                </label>\r\n                                            </div>\r\n                                            <div className=\"size-option\">\r\n                                                <label className=\"filter-checkboxes\">\r\n                                                    <label htmlFor=\"large\">\r\n                                                        L\r\n                                                        <input\r\n                                                            type=\"checkbox\"\r\n                                                            id=\"large\"\r\n                                                            name=\"size\"\r\n                                                            value=\"l\"\r\n                                                            onChange={this.handleCheckboxChange}\r\n                                                        />\r\n                                                        <span className=\"checkmark\"></span>\r\n                                                    </label>\r\n                                                </label>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        <div className=\"item\">\r\n                                            <div className=\"size-option\">\r\n                                                <label className=\"filter-checkboxes\">\r\n                                                    <label htmlFor=\"x-large\">\r\n                                                        XL\r\n                                                        <input\r\n                                                            type=\"checkbox\"\r\n                                                            id=\"x-large\"\r\n                                                            name=\"size\"\r\n                                                            value=\"xl\"\r\n                                                            onChange={this.handleCheckboxChange}\r\n                                                        />\r\n                                                        <span className=\"checkmark\"></span>\r\n                                                    </label>\r\n                                                </label>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </fieldset>\r\n                            </div>\r\n                            :\r\n                            <div className=\"create-input\">\r\n                                <fieldset className=\"size-selector\" id=\"sizeSelector\">\r\n                                    <legend>\r\n                                        Children Sizes {this.state.sizeIsInvalid ? <span className=\"err\">*</span> : null}\r\n                                    </legend>\r\n\r\n                                    <div className=\"size-container\">\r\n                                        <div className=\"item\">\r\n\r\n                                            <div className=\"size-option\">\r\n                                                <label className=\"filter-checkboxes\">\r\n                                                    <label htmlFor=\"kid-range-1\">\r\n                                                        6-7Y\r\n                                                        <input\r\n                                                            type=\"checkbox\"\r\n                                                            id=\"kid-range-1\"\r\n                                                            name=\"size\"\r\n                                                            value=\"6-7Y\"\r\n                                                            onChange={this.handleCheckboxChange}\r\n                                                        />\r\n                                                        <span className=\"checkmark\"></span>\r\n                                                    </label>\r\n                                                </label>\r\n                                            </div>\r\n                                            <div className=\"size-option\">\r\n                                                <label className=\"filter-checkboxes\">\r\n                                                    <label htmlFor=\"kid-range-2\">\r\n                                                        7-8Y\r\n                                                        <input\r\n                                                            type=\"checkbox\"\r\n                                                            id=\"kid-range-2\"\r\n                                                            name=\"size\"\r\n                                                            value=\"7-8Y\"\r\n                                                            onChange={this.handleCheckboxChange}\r\n                                                        />\r\n                                                        <span className=\"checkmark\"></span>\r\n                                                    </label>\r\n                                                </label>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"item\">\r\n                                            <div className=\"size-option\">\r\n                                                <label className=\"filter-checkboxes\">\r\n                                                    <label htmlFor=\"kid-range-3\">\r\n                                                        8-9Y\r\n                                                        <input\r\n                                                            type=\"checkbox\"\r\n                                                            id=\"kid-range-3\"\r\n                                                            name=\"size\"\r\n                                                            value=\"8-9Y\"\r\n                                                            onChange={this.handleCheckboxChange}\r\n                                                        />\r\n                                                        <span className=\"checkmark\"></span>\r\n                                                    </label>\r\n                                                </label>\r\n                                            </div>\r\n                                            <div className=\"size-option\">\r\n                                                <label className=\"filter-checkboxes\">\r\n                                                    <label htmlFor=\"kid-range-4\">\r\n                                                        9-10y\r\n                                                        <input\r\n                                                            type=\"checkbox\"\r\n                                                            id=\"kid-range-4\"\r\n                                                            name=\"size\"\r\n                                                            value=\"9-10Y\"\r\n                                                            onChange={this.handleCheckboxChange}\r\n                                                        />\r\n                                                        <span className=\"checkmark\"></span>\r\n                                                    </label>\r\n                                                </label>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"item\">\r\n                                            <div className=\"size-option\">\r\n                                                <label className=\"filter-checkboxes\">\r\n                                                    <label htmlFor=\"kid-range-5\">\r\n                                                        10-11Y\r\n                                                        <input\r\n                                                            type=\"checkbox\"\r\n                                                            id=\"kid-range-5\"\r\n                                                            name=\"size\"\r\n                                                            value=\"10-11Y\"\r\n                                                            onChange={this.handleCheckboxChange}\r\n                                                        />\r\n                                                        <span className=\"checkmark\"></span>\r\n                                                    </label>\r\n                                                </label>\r\n                                            </div>\r\n                                            <div className=\"size-option\">\r\n                                                <label className=\"filter-checkboxes\">\r\n                                                    <label htmlFor=\"kid-range-6\">\r\n                                                        11-12Y\r\n                                                        <input\r\n                                                            type=\"checkbox\"\r\n                                                            id=\"kid-range-6\"\r\n                                                            name=\"size\"\r\n                                                            value=\"11-12Y\"\r\n                                                            onChange={this.handleCheckboxChange}\r\n                                                        />\r\n                                                        <span className=\"checkmark\"></span>\r\n                                                    </label>\r\n                                                </label>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </fieldset>\r\n                            </div>\r\n                        }\r\n\r\n                        <div className=\"edit-input\">\r\n                            <label className=\"form-label\" htmlFor=\"priceInput\">\r\n                                Enter Price: {this.state.priceIsInvalid ? <span className=\"err\">*</span> : null}\r\n\r\n                                <input\r\n                                    type=\"text\"\r\n                                    name=\"price\"\r\n                                    id=\"priceInput\"\r\n                                    value={this.state.product.price}\r\n                                    onChange={this.handleChange}\r\n                                />\r\n                            </label>\r\n                        </div>\r\n                        <div className=\"edit-input\">\r\n                            <label className=\"form-label\" htmlFor=\"genderInput\">\r\n                                Enter Gender: {this.state.genderIsInvalid ? <span className=\"err\">*</span> : null}\r\n\r\n                                <input\r\n                                    type=\"text\"\r\n                                    name=\"gender\"\r\n                                    id=\"genderInput\"\r\n                                    value={this.state.product.gender}\r\n                                    onChange={this.handleChange}\r\n                                />\r\n                            </label>\r\n                        </div>\r\n                        <div className=\"edit-input\">\r\n                            <label className=\"form-label\" htmlFor=\"categoryInput\">\r\n                                Enter Category: {this.state.categoryIsInvalid ? <span className=\"err\">*</span> : null}\r\n\r\n                                <input\r\n                                    type=\"text\"\r\n                                    name=\"category\"\r\n                                    id=\"categoryInput\"\r\n                                    value={this.state.product.category}\r\n                                    onChange={this.handleChange}\r\n                                />\r\n                            </label>\r\n                        </div>\r\n                        <div className=\"edit-input\">\r\n                            <label className=\"form-label\" htmlFor=\"brandInput\">\r\n                                Enter Brand: {this.state.brandIsInvalid ? <span className=\"err\">*</span> : null}\r\n\r\n                                <input\r\n                                    type=\"text\"\r\n                                    name=\"brand\"\r\n                                    id=\"brandInput\"\r\n                                    value={this.state.product.brand}\r\n                                    onChange={this.handleChange}\r\n                                />\r\n                            </label>\r\n                        </div>\r\n\r\n                            <div className=\"stock-container\">\r\n\r\n                                    <div className=\"item\">\r\n                                        <h4>Current Stock: <span className=\"stock-level\">{this.state.product.current_stock}</span></h4>\r\n                                    </div>\r\n                                    <div className=\"item\">\r\n                                        <label className=\"form-label\" htmlFor=\"stockInput\">\r\n                                            New Stock: {this.state.stockIsInvalid ? <span className=\"err\">*</span> : null}\r\n\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                name=\"current_stock\"\r\n                                                id=\"stockInput\"\r\n                                                value={this.state.stock}\r\n                                                onChange={this.handleStockChange}\r\n                                            />\r\n                                        </label>\r\n                                    </div>\r\n\r\n                        </div>\r\n\r\n                        <div className=\"form-controls\">\r\n                            <button onClick={this.handleDeleteProduct}>Delete</button>\r\n                            <button onClick={this.handleUpdateProduct}>Update</button>\r\n                            <button onClick={this.handleReset}>Reset</button>\r\n                            <button onClick={this.handleReturn}>Return</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n                <footer>\r\n                    <Footer/>\r\n                </footer>\r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}