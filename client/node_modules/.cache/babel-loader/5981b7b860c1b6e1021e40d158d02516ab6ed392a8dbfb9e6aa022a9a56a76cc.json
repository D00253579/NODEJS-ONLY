{"ast":null,"code":"import React,{Component}from\"react\";import{Redirect}from\"react-router-dom\";import axios from\"axios\";import{SERVER_HOST}from\"../config/global_constants\";import\"../css/TShirtLayout.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default class MainPagePhotoData extends Component{constructor(props){super(props);this.handleReturn=()=>{this.setState({redirectToTShirtView:true});};this.state={redirectToTShirtView:false};}componentDidMount(){this.props.products.photos.map(photo=>{return axios.get(\"\".concat(SERVER_HOST,\"/products/photo/\").concat(photo.filename)).then(res=>{document.getElementById(photo._id).src=\"data:;base64,\".concat(res.data.image);}).catch(err=>{});});}render(){return/*#__PURE__*/_jsxs(\"div\",{children:[this.props.products.photos.map(photo=>/*#__PURE__*/_jsx(\"img\",{className:\"photo-\".concat(photo._id),id:photo._id,alt:\"\",onClick:this.handleReturn},photo._id)),this.state.redirectToTShirtView?/*#__PURE__*/_jsx(Redirect,{to:\"/TShirtView/\".concat(this.props.products._id)}):null]});}}","map":{"version":3,"names":["React","Component","Redirect","axios","SERVER_HOST","jsx","_jsx","jsxs","_jsxs","MainPagePhotoData","constructor","props","handleReturn","setState","redirectToTShirtView","state","componentDidMount","products","photos","map","photo","get","concat","filename","then","res","document","getElementById","_id","src","data","image","catch","err","render","children","className","id","alt","onClick","to"],"sources":["C:/Users/jamie/Desktop/CA2/NODEJS-ONLY/client/src/components/MainPagePhotoData.js"],"sourcesContent":["import React, {Component} from \"react\"\r\nimport {Redirect} from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport {SERVER_HOST} from \"../config/global_constants\";\r\nimport \"../css/TShirtLayout.css\";\r\nexport default class MainPagePhotoData extends Component{\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            redirectToTShirtView:false\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.props.products.photos.map(photo => {\r\n            return axios.get(`${SERVER_HOST}/products/photo/${photo.filename}`)\r\n                .then(res => {\r\n\r\n                    document.getElementById(photo._id).src = `data:;base64,${res.data.image}`\r\n                })\r\n                .catch(err =>\r\n                {\r\n\r\n                })\r\n        })\r\n    }\r\n\r\n    handleReturn = () => {\r\n        this.setState({redirectToTShirtView: true})\r\n    }\r\nrender(){\r\nreturn(\r\n    <div>\r\n        {/*Used ChatGPT to troubleshoot because I didn't know how to give each individual photo a className by the photo id and was getting an error due to the photoID starting with an integer*/}\r\n        {this.props.products.photos.map(photo => <img className={`photo-${photo._id}`} key={photo._id}  id={photo._id} alt={\"\"} onClick={this.handleReturn}/>)}\r\n        {this.state.redirectToTShirtView ? <Redirect to={`/TShirtView/${this.props.products._id}`}/> : null }\r\n           \r\n           </div>\r\n\r\n)\r\n}\r\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,SAAS,KAAO,OAAO,CACtC,OAAQC,QAAQ,KAAO,kBAAkB,CACzC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAAQC,WAAW,KAAO,4BAA4B,CACtD,MAAO,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBACjC,cAAe,MAAM,CAAAC,iBAAiB,QAAS,CAAAR,SAAS,CACpDS,WAAWA,CAACC,KAAK,CAAE,CACf,KAAK,CAACA,KAAK,CAAC,MAmBhBC,YAAY,CAAG,IAAM,CACjB,IAAI,CAACC,QAAQ,CAAC,CAACC,oBAAoB,CAAE,IAAI,CAAC,CAAC,CAC/C,CAAC,CApBG,IAAI,CAACC,KAAK,CAAG,CACTD,oBAAoB,CAAC,KACzB,CAAC,CACL,CACAE,iBAAiBA,CAAA,CAAG,CAChB,IAAI,CAACL,KAAK,CAACM,QAAQ,CAACC,MAAM,CAACC,GAAG,CAACC,KAAK,EAAI,CACpC,MAAO,CAAAjB,KAAK,CAACkB,GAAG,IAAAC,MAAA,CAAIlB,WAAW,qBAAAkB,MAAA,CAAmBF,KAAK,CAACG,QAAQ,CAAE,CAAC,CAC9DC,IAAI,CAACC,GAAG,EAAI,CAETC,QAAQ,CAACC,cAAc,CAACP,KAAK,CAACQ,GAAG,CAAC,CAACC,GAAG,iBAAAP,MAAA,CAAmBG,GAAG,CAACK,IAAI,CAACC,KAAK,CAAE,CAC7E,CAAC,CAAC,CACDC,KAAK,CAACC,GAAG,EACV,CAEA,CAAC,CAAC,CACV,CAAC,CAAC,CACN,CAKJC,MAAMA,CAAA,CAAE,CACR,mBACI1B,KAAA,QAAA2B,QAAA,EAEK,IAAI,CAACxB,KAAK,CAACM,QAAQ,CAACC,MAAM,CAACC,GAAG,CAACC,KAAK,eAAId,IAAA,QAAK8B,SAAS,UAAAd,MAAA,CAAWF,KAAK,CAACQ,GAAG,CAAG,CAAkBS,EAAE,CAAEjB,KAAK,CAACQ,GAAI,CAACU,GAAG,CAAE,EAAG,CAACC,OAAO,CAAE,IAAI,CAAC3B,YAAa,EAA/DQ,KAAK,CAACQ,GAA0D,CAAC,CAAC,CACrJ,IAAI,CAACb,KAAK,CAACD,oBAAoB,cAAGR,IAAA,CAACJ,QAAQ,EAACsC,EAAE,gBAAAlB,MAAA,CAAiB,IAAI,CAACX,KAAK,CAACM,QAAQ,CAACW,GAAG,CAAG,CAAC,CAAC,CAAG,IAAI,EAE3F,CAAC,CAGjB,CACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}