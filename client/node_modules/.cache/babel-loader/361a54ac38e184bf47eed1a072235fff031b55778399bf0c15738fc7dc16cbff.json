{"ast":null,"code":"import React,{Component}from\"react\";import axios from\"axios\";import{SERVER_HOST}from\"../../config/global_constants\";import Navbar from\"../NavBar\";import AdminUserView from\"./AdminUserView\";import AdminMenu from\"./AdminMenu\";import Footer from\"../Footer\";import UserTable from\"../../UserTable.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default class ViewUsers extends Component{constructor(props){super(props);this.sortName=()=>{// default descending\nlet productNaturalOrderByName=[...this.state.users];// soft copy of products to manipulate\nlet descendingProducts=productNaturalOrderByName.sort((a,b)=>a.name<b.name?-1:1);this.updateUsers(descendingProducts);console.log(\"Natural order set: product.name DESC\");};this.updateUsers=newUserState=>{this.setState({users:newUserState});console.log(\"State of Users updated \");};this.state={users:[]};}componentDidMount(){//Fetching users for the table\naxios.get(\"\".concat(SERVER_HOST,\"/users\")).then(res=>{console.log(\"Records read to Admin view of Users\");this.setState({users:res.data});this.sortName();}).catch(err=>{});}render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"admin-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"admin-head-container\",children:/*#__PURE__*/_jsx(Navbar,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"admin-body-container\",children:/*#__PURE__*/_jsx(AdminUserView,{users:this.state.users,updateUsers:this.updateUsers})})]}),/*#__PURE__*/_jsx(\"footer\",{children:/*#__PURE__*/_jsx(Footer,{})})]});}}","map":{"version":3,"names":["React","Component","axios","SERVER_HOST","Navbar","AdminUserView","AdminMenu","Footer","UserTable","jsx","_jsx","jsxs","_jsxs","ViewUsers","constructor","props","sortName","productNaturalOrderByName","state","users","descendingProducts","sort","a","b","name","updateUsers","console","log","newUserState","setState","componentDidMount","get","concat","then","res","data","catch","err","render","children","className"],"sources":["C:/Users/jamie/Desktop/CA2/NODEJS-ONLY/client/src/components/AdminDashboard/ViewUsers.js"],"sourcesContent":["import React, {Component} from \"react\"\r\nimport axios from \"axios\";\r\nimport {SERVER_HOST} from \"../../config/global_constants\";\r\nimport Navbar from \"../NavBar\"\r\nimport AdminUserView from \"./AdminUserView\";\r\nimport AdminMenu from \"./AdminMenu\";\r\nimport Footer from \"../Footer\";\r\nimport UserTable from \"../../UserTable.scss\"\r\n\r\nexport default class ViewUsers extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            users: []\r\n        }\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        //Fetching users for the table\r\n        axios.get(`${SERVER_HOST}/users`)\r\n            .then((res) => {\r\n\r\n                        console.log(\"Records read to Admin view of Users\");\r\n                        this.setState({users: res.data})\r\n                        this.sortName()\r\n\r\n            })\r\n            .catch(err =>{\r\n\r\n            })\r\n    }\r\n\r\n    sortName = () => { // default descending\r\n        let productNaturalOrderByName = [...this.state.users] // soft copy of products to manipulate\r\n\r\n        let descendingProducts = productNaturalOrderByName.sort((a, b) => a.name < b.name ? -1 : 1)\r\n        this.updateUsers(descendingProducts)\r\n        console.log(\"Natural order set: product.name DESC\")\r\n    }\r\n    updateUsers = (newUserState) => {\r\n        this.setState({users: newUserState})\r\n        console.log(\"State of Users updated \")\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"admin-container\">\r\n                    <div className=\"admin-head-container\">\r\n                        <Navbar/>\r\n                    </div>\r\n                    <div className=\"admin-body-container\">\r\n                            <AdminUserView\r\n                                users={this.state.users}\r\n                                updateUsers={this.updateUsers}\r\n                            />\r\n                    </div>\r\n                </div>\r\n                    <footer>\r\n                        <Footer/>\r\n                    </footer>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,SAAS,KAAO,OAAO,CACtC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAAQC,WAAW,KAAO,+BAA+B,CACzD,MAAO,CAAAC,MAAM,KAAM,WAAW,CAC9B,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,MAAO,CAAAC,MAAM,KAAM,WAAW,CAC9B,MAAO,CAAAC,SAAS,KAAM,sBAAsB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5C,cAAe,MAAM,CAAAC,SAAS,QAAS,CAAAZ,SAAU,CAE7Ca,WAAWA,CAACC,KAAK,CAAE,CACf,KAAK,CAACA,KAAK,CAAC,CAAC,KAsBjBC,QAAQ,CAAG,IAAM,CAAE;AACf,GAAI,CAAAC,yBAAyB,CAAG,CAAC,GAAG,IAAI,CAACC,KAAK,CAACC,KAAK,CAAC,CAAC;AAEtD,GAAI,CAAAC,kBAAkB,CAAGH,yBAAyB,CAACI,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAKD,CAAC,CAACE,IAAI,CAAGD,CAAC,CAACC,IAAI,CAAG,CAAC,CAAC,CAAG,CAAC,CAAC,CAC3F,IAAI,CAACC,WAAW,CAACL,kBAAkB,CAAC,CACpCM,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC,CACvD,CAAC,MACDF,WAAW,CAAIG,YAAY,EAAK,CAC5B,IAAI,CAACC,QAAQ,CAAC,CAACV,KAAK,CAAES,YAAY,CAAC,CAAC,CACpCF,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAC,CAC1C,CAAC,CA/BG,IAAI,CAACT,KAAK,CAAG,CACTC,KAAK,CAAE,EACX,CAAC,CACL,CAGAW,iBAAiBA,CAAA,CAAG,CAChB;AACA5B,KAAK,CAAC6B,GAAG,IAAAC,MAAA,CAAI7B,WAAW,UAAQ,CAAC,CAC5B8B,IAAI,CAAEC,GAAG,EAAK,CAEHR,OAAO,CAACC,GAAG,CAAC,qCAAqC,CAAC,CAClD,IAAI,CAACE,QAAQ,CAAC,CAACV,KAAK,CAAEe,GAAG,CAACC,IAAI,CAAC,CAAC,CAChC,IAAI,CAACnB,QAAQ,CAAC,CAAC,CAE3B,CAAC,CAAC,CACDoB,KAAK,CAACC,GAAG,EAAG,CAEb,CAAC,CAAC,CACV,CAcAC,MAAMA,CAAA,CAAG,CACL,mBACI1B,KAAA,QAAA2B,QAAA,eACI3B,KAAA,QAAK4B,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAC5B7B,IAAA,QAAK8B,SAAS,CAAC,sBAAsB,CAAAD,QAAA,cACjC7B,IAAA,CAACN,MAAM,GAAC,CAAC,CACR,CAAC,cACNM,IAAA,QAAK8B,SAAS,CAAC,sBAAsB,CAAAD,QAAA,cAC7B7B,IAAA,CAACL,aAAa,EACVc,KAAK,CAAE,IAAI,CAACD,KAAK,CAACC,KAAM,CACxBM,WAAW,CAAE,IAAI,CAACA,WAAY,CACjC,CAAC,CACL,CAAC,EACL,CAAC,cACFf,IAAA,WAAA6B,QAAA,cACI7B,IAAA,CAACH,MAAM,GAAC,CAAC,CACL,CAAC,EAEZ,CAAC,CAEd,CACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}